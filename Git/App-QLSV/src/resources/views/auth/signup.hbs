<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<!------ Include the above in your HEAD tag ---------->

<script src="https://cdn.jsdelivr.net/jquery.validation/1.15.1/jquery.validate.min.js"></script>
<link href="https://fonts.googleapis.com/css?family=Kaushan+Script" rel="stylesheet">
<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

<body>
   <div class="container mt-4">
      <div class="row">
         <div class="col-md-5 mx-auto">
            <div id="second">
               <div class="myform form ">
                  <div class="logo mb-3">
                     <div class="col-md-12 text-center">
                        <h1 >Signup</h1>
                     </div>
                  </div>
                  <form action="">
                     <div class="form-group">
                        <input type="text" class="form-control" id="name" aria-describedby="emailHelp" placeholder="Họ Và Tên">
                     </div>
                     <div class="form-group">
                        <input type="text" class="form-control" id="email" aria-describedby="emailHelp" placeholder="Email">
                     </div>
                     <div class="form-group">
                        <input type="text" class="form-control" id="username" aria-describedby="emailHelp" placeholder="Username">
                     </div>
                     <div class="form-group">
                        <input type="text" id="password"  class="form-control" aria-describedby="emailHelp" placeholder="Password">
                     </div>
                     <div class="form-group">
                        <select id="role"  class="form-control" aria-describedby="emailHelp">
                           <option selected>Chức Danh</option>
                           <option value="teacher">Giảng viên</option>
                           <option value="student">Sinh viên</option>
                           <option value="manager">Quản lý</option>
                        </select>
                     </div>
                     <div class="col-md-12 text-center mb-3">
                        <button id="btnSignup" class=" btn btn-block mybtn btn-primary tx-tfm">Đăng Ký</button>
                     </div>
                     <div class="col-md-12 text-center mb-3">
                        <a href="/auth/login" id="btnSignup" class=" btn btn-block mybtn btn-secondary tx-tfm">Quay Lại Đăng Nhập</a>
                     </div>
                  </form>
            </div>
         </div>
      </div>
   </div>           
</body>
<script>
   $(document).ready(function(){
      var error = $("#error")
      var ok = $("#ok")
      error.html("")
      ok.html("")
      $('#btnSignup').click(function(e){
         e.preventDefault()
         var name = $('#name').val()
         var email = $('#email').val()
         var username = $('#username').val()
         var password = $('#password').val()
         var role = $("#role").val()
         if(name == "" || email == "" || username == "" || password == "" ||role == ""){
            alert('Chưa điền đủ thông tin')
         } else{
            $.post("/auth/signup", {
               name: name,
               email: email,
               username: username,
               password: password,
               role: role,
            }, function(data){
               if(data.result == 0) {
                  alert('Tài khoản tồn tại')
               }
               if(data.result == 1) {
                  alert('Tạo tài khoản thành công!!')
                  window.location.href = ('/auth/login')
               }
            })
         }
      })
   })
</script>
